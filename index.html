<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Bridger Herman</title>
    <link rel="stylesheet" href="assets/css/tty.css">
    <link rel="stylesheet" href="assets/css/header.css">
    <link rel="stylesheet" href="assets/css/index.css">
    <link rel="icon" href="favicon.ico" type="image/x-icon"/>
  </head>
  <body>
    <header>
      <div class="tty" tabindex="0"></div>
      <a href="https://github.com/bridger-herman">
        <div class="header-img"></div>
      </a>
    </header>

    <nav>
      <ul>
        <li><a href="#about">About</a></li>
        <li><a href="#photos">Photography</a></li>
        <li><a href="#projects">Projects</a></li>
        <li><a href="#resume">Resume</a></li>
      </ul>
    </nav>

    <div id="about" class="page"></div>

    <div id="photos" class="page"></div>

    <div id="projects" class="page">

    </div>

    <div id="project-cloth" class="page inline">
<article>
  <h1>Cloth Simulation</h1>
  <h3>Description</h3>
  <p>
    The aim of this project is to simulate cloth, using Hooke's Law spring
    systems. So far, only vertical springs have been created, with a
    wireframe representing the locations of nodes and links in the
    system.
  </p>

  <h3>Features</h3>
  <ul>
    <li>Realtime, 3D rendering</li>
    <li>3D user controlled camera</li>
    <li>Real-time user interaction with system</li>
    <li>3D Mass-spring cloth simulation</li>
    <li>Textured simulated objects</li>
    <li>Drag terms</li>
    <li>15x15 and 20x20 cloth at 30+ FPS</li>
    <li>Eulerian integration</li>
  </ul>

  <h3>Simulations</h3>
  <ul>
    <li>Regular cloth (flag)</li>
    <li>Polyphonic synthesizer (partially implemented)</li>
  </ul>

  <h3>Challenges</h3>
  <p>
    The largest challenges of this project have been determining
    if the simulation is "correct" or not. With the first part of the
    simulation, I made the mistake of not taking into account forces from
    all directions on nodes, which resulted in the springs not responding
    to forces in physically realistic ways. An additional challenge was working
    on the physically-based sound simulation. Due to the way that the rest of
    my simulation was implemented, the update speed on the nodes was not fast
    enough to use their velocity for realtime audio.
  </p>

  <h3>Controls</h3>
  <ul>
    <li><strong>WASD/Mouse:</strong> Camera control</li>
    <li><strong>Arrow keys:</strong> Move anchored nodes (top nodes) around</li>
    <li><strong>Space:</strong> Toggle draw mode for cloth</li>
    <li><strong>p:</strong> Pause simulation</li>
    <li><strong>z/x:</strong> Decrease/Increase spring constant</li>
    <li><strong>c/v:</strong> Decrease/Increase damping constant</li>
    <li><strong>b/n:</strong> Decrease/Increase density of air &rho; </li>
    <li><strong>m/,:</strong> Decrease/Increase drag coefficient</li>
  </ul>

  <h3>Implementation Details</h3>
  <h4>Simulation Overview</h4>
  <p>
    The first step when the simulation is run is to build the cloth
    programmatically. A start position is given to the Cloth constructor, and
    it creates Node objects in a gridded pattern to store positions and
    velocities, and builds an accompanying adjacency list. The link and cloth
    renderers use this adjacency list to determine where to draw
    <code>GL_LINES</code> and <code>GL_TRIANGLES</code>, respectively. This
    adjacency list is also used when calculating the forces acting upon each
    node.
  </p>

  <p>
    Each time through the main event loop, the cloth is updated 10 times with a
    fixed `dt = 0.001`. This was to prevent the simulation from blowing up, and
    to still display realistic results. Inside the cloth update, the following
    steps occur:
    <ol>
      <li>All forces become `F = m_{\text{node}}*a_{\text{gravity}}`</li>
      <li>Spring forces (`k_{\text{spring}}` and `k_{\text{damp}}`) are added</li>
      <li>Drag forces from the cloth area are applied</li>
      <li>Integration (Eulerian) is performed (velocities and positions are updated)</li>
      <li>Each node is updated</li>
      <li>The cloth and link renderers are updated</li>
    </ol>
  </p>

  <p>
    After all updates are finished, the cloth is drawn and the scene rendered.
    The steps vary slightly for the polyphonic musical instrument simulation,
    but the overall process is quite similar.
  </p>

  <h4>Force Calculations</h4>
  <p>
    <strong>Spring Forces:</strong> The spring forces within the cloth are
    calculated using a dampened version of Hooke's Law: `F_\text{spring} =
    k_{\text{spring}}*((x_1 - x_0) - x_{\text{rest}}) + k_{\text{damp}}*(v_1 -
    v_0)`. The forces are applied in opposite directions at each end of the
    spring.
  </p>

  <p>
    <strong>Drag Force:</strong> The drag force is calculated using a modified
    version of Rayleigh's drag equation: `F_\text{aero} = -\frac{1}{2} \rho
    |\mathbf{v}|^2 c_\text{drag} a \mathbf{n}`. The normal of each quad is
    calculated using the cross product of two of its edges.
  </p>

  <h3>Code</h3>
  <p>
    Code from this project can be found in <a
    href="https://github.umn.edu/herma582/5611-hw2">this GitHub repo</a>. <br>

    The code is written in C++ and makes use of the following external libraries:
    <ul>
      <li><strong>OpenGL 3.3 API:</strong> Graphics</li>
      <li><strong>SDL2:</strong> Window management</li>
      <li><strong>GLM:</strong> Matrix/Vector mathematics</li>
      <li><strong>stb_image:</strong> Loading image textures</li>
    </ul>
  </p>

  <h3>Videos</h3>
  <h4>Feature videos</h4>
  <h4>Check-in</h4>
  <iframe width="560" height="315"
  src="https://www.youtube.com/embed/tTgIeCPBqbE" frameborder="0"
  allow="encrypted-media" allowfullscreen></iframe>

  <h3>Images</h3>
  <figure>
    <img src="./assets/img/project-cloth/5-springs.png" alt="5 spring linear system">
    <figcaption>5-spring linear system</figcaption>
  </figure>

</article>
    </div>

    <div id="project-particles" class="page">
    </div>

    <div id="resume" class="page inline">
      <img src="./assets/img/bridger_herman.png" alt="Bridger Herman's Resume">
    </div>

    <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML'></script>
    <script
        src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js">
    </script>
    <!-- <script type="text/javascript"
      src="/Users/bridger/Desktop/jquery-3.2.1.min.js">
    </script> -->
    <script type="text/javascript" src="./assets/js/pageLoader.js"></script>
    <script type="text/javascript" src="./assets/js/tools.js"></script>
    <script type="text/javascript" src="./assets/js/tty.js"></script>
    <script type="text/javascript" src="./assets/js/index.js"></script>
  </body>
</html>
